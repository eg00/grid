

##Задача:

Реализовать веб-приложение позволяющее управлять отделами и сотрудниками предприятия, а так же просматривать их связи на &quot;сетке&quot;.

Приложение состоит из **трех разделов** :

1. Сетка (главная страница);
2. Отделы;
3. Сотрудники.

**Разделы &quot;Отделы&quot; и &quot;Сотрудники&quot;** представляют собой интерфейсы для управления соответствующими данными и **состоят из трех видимых страниц** :

1. Список (в виде таблицы), содержащий данные об элементах (указаны ниже) и кнопки &quot;Редактировать&quot; и &quot;Удалить&quot;;
2. Форма добавления нового отдела/сотрудника;
3. Форма изменения существующего отдела/сотрудника.

**Форма редактирования/добавления сотрудника** содержит следующие поля:

1. Имя (обязательное);
2. Фамилия (обязательное);
3. Отчество;
4. Пол;
5. Заработная плата (целое число);
6. Отделы (обязательное, множественный выбор с помощью checkbox или multiple select).

**Список сотрудников** содержит следующие данные:

1. Имя;
2. Фамилия;
3. Отчество;
4. Пол;
5. Заработная плата;
6. Названия отделов в которых работает сотрудник (через запятую).

**Форма редактирования/добавления отдела** содержит следующие поля:

1. Название отдела (обязательное).

**Список отделов** содержит следующие данные:

1. Название отдела;
2. Количество сотрудников отдела;
3. Максимальная заработная плата среди сотрудников отдела.

**Связи между моделями:**

1. Сотрудник может работать как в одном, так и в нескольких разделах одновременно.
2. Нельзя создать сотрудника не указав ему хотя бы один отдел.
3. Нельзя удалить отдел в котором есть сотрудники.

Все **ошибки, возникающие при редактировании/создании/удалении** элементов **,** должны быть показаны пользователю. Плюсом (необязательно) будет, если для этого не потребуется перезагрузка страницы (будет использован AJAX/JSON).

**Раздел &quot;Сетка&quot;** представляет собой таблицу, содержащую **связи между работниками и их отделами**.

Колонками в данной таблице являются отделы, а строками - сотрудники.

Ячейка находящаяся на пересечении работника и отдела в котором он работает должна содержать соответствующую отметку, остальные колонки можно оставить пустыми.

**Пример сетки:**

|              | Отдел закупок | Отдел продаж | PR-отдел |
| ---          | ---           | ---          | ---      |
| Иван Йода    |               | ✓            |          |
| Петр Вейдер  |      ✓        |              |          |
| Ольга Кеноби |               | ✓            | ✓        |

При выполнении задания, желательно **минимизировать количество SQL-запросов** к СУБД. Для получения данных стараться использовать **возможности языка SQL** в реализации MySQL.

**Внешний вид и верстка** приложения на ваше усмотрение (не критичны).

Для сокращения временных затрат можно, например, использовать [http://getbootstrap.com/](http://getbootstrap.com/)

**Результат работы** желательно залить в сеть (чтобы можно было легко посмотреть его в действии), также необходимо выслать архив с исходным кодом приложения и его базой данных.


##Демо

https://grid.2ql.ru/

##Запуск

    git clone https://eg00@bitbucket.org/eg00/grid.git
    cd grid
    composer install
    cp .env.example .env
    php artisan key:generate
 
**Настроить параметры БД в файле .env** 
 
     php artisan migrate
     php artisan db:seed
     php artisan serve

